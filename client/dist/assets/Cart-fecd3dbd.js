import{a as y,b as k,j as e,d as T,A as L,i as A,c as M,e as E,Q as v,f as H,L as B,H as N,k as D,r as g,g as F}from"./index-33a26ca7.js";import{N as K}from"./NewsLetter-ae8c93c2.js";import{B as U}from"./index.esm-5f93dcfa.js";import{S as _}from"./SectionBanner-eecacccb.js";const G=()=>{const r=y(a=>a.counter.productData),n=k();return e.jsxs("article",{className:"",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("h2",{className:"font-titleFont text-xl md:text-4xl font-bold capitalize",children:"shopping cart"}),e.jsx("ul",{role:"list",className:"divide-y divide-gray-200 mt-3",children:r.map(a=>e.jsxs("div",{className:"",children:[e.jsxs("li",{className:"flex py-6 sm:py-6 ",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:a.image,alt:a.title,className:"sm:h-38 sm:w-38 h-20 w-24 rounded-md object-contain object-center"})}),e.jsx("div",{className:"ml-4 flex flex-1 flex-col justify-between sm:ml-6",children:e.jsx("div",{className:"relative pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0",children:e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between",children:e.jsxs("h3",{className:"text-lg md:text-2xl font-semibold",children:[a.title," "]})}),e.jsxs("div",{className:"mt-1 flex  items-center gap-4",children:[e.jsxs("p",{className:"text-lg md:text-xl font-medium text-gray-800",children:["$",a.price]}),e.jsx("p",{className:"text-lg md:text-xl font-medium text-green-500",children:"5% Off"})]})]})})})]}),e.jsxs("div",{className:"mb-2 flex",children:[e.jsxs("div",{className:"min-w-24 flex items-center",children:[e.jsxs("button",{onClick:()=>n(T({_id:a._id,title:a.title,image:a.image,price:a.price,quantity:1,description:a.description})),type:"button",className:"w-6 hover:bg-black hover:text-white p-1",children:[" ",e.jsx(L,{})," "]}),e.jsx("p",{className:"mx-1 h-7 w-10 text-base rounded-md border text-center",children:a.quantity}),e.jsxs("button",{onClick:()=>n(A({_id:a._id,title:a.title,image:a.image,price:a.price,quantity:1,description:a.description})),type:"button",className:"flex w-6 items-center justify-center hover:bg-black hover:text-white p-1",children:[" ",e.jsx(M,{})," "]})]}),e.jsx("div",{className:"ml-6 flex text-sm",children:e.jsxs("button",{type:"button",onClick:()=>n(E(a._id))&v.error(`${a.title} is removed`),className:"flex items-center justify-center space-x-1 px-3 py-1  rounded-md hover:bg-red-100",children:[e.jsx(U,{size:22,className:"text-red-500"}),e.jsx("span",{className:"text-lg font-medium text-red-500",children:"Remove"})]})})]})]},a._id))}),e.jsx("button",{onClick:()=>n(H())&v.error("Your Cart is Empty!"),className:"bg-orange-600 rounded-sm text-base md:text-lg text-white mt-8  py-1 px-6 hover:bg-orange-800 duration-300",children:"Reset Cart"})]}),e.jsx(B,{to:"/",children:e.jsxs("button",{className:"mt-8 flex items-center gap-1 text-gray-400 hover:text-black hover:underline underline-offset-2 decoration-gray-400 duration-300",children:[e.jsx("span",{children:e.jsx(N,{})}),"Go to Shopping"]})}),e.jsx(D,{position:"top-left",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})};var w={},C={exports:{}},I="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",W=I,Y=W;function O(){}function P(){}P.resetWarningCache=O;var Z=function(){function r(t,i,o,l,m,d){if(d!==Y){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}r.isRequired=r;function n(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:n,element:r,elementType:r,instanceOf:n,node:r,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:P,resetWarningCache:O};return a.PropTypes=a,a};C.exports=Z();var q=C.exports;Object.defineProperty(w,"__esModule",{value:!0});var f=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(r[t]=a[t])}return r},V=function(){function r(n,a){for(var t=0;t<a.length;t++){var i=a[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(n,a,t){return a&&r(n.prototype,a),t&&r(n,t),n}}(),z=g,u=R(z),$=q,s=R($);function R(r){return r&&r.__esModule?r:{default:r}}function b(r,n,a){return n in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r}function Q(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function X(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:r}function J(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}var h=!1,S=!1,j=!1,x=function(r){J(n,r);function n(a){Q(this,n);var t=X(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,a));return t.onScriptLoaded=function(){n.stripeHandler||(n.stripeHandler=StripeCheckout.configure({key:t.props.stripeKey}),t.hasPendingClick&&t.showStripeDialog())},t.onScriptError=function(){for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];t.hideLoadingDialog(),t.props.onScriptError&&t.props.onScriptError.apply(t,o)},t.onClosed=function(){for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];t._isMounted&&t.setState({open:!1}),t.props.closed&&t.props.closed.apply(t,o)},t.onOpened=function(){for(var i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];t.setState({open:!0}),t.props.opened&&t.props.opened.apply(t,o)},t.getConfig=function(){return["token","image","name","description","amount","locale","currency","panelLabel","zipCode","shippingAddress","billingAddress","email","allowRememberMe","bitcoin","alipay","alipayReusable"].reduce(function(i,o){return f({},i,t.props.hasOwnProperty(o)&&b({},o,t.props[o]))},{opened:t.onOpened,closed:t.onClosed})},t.onClick=function(){if(!t.props.disabled)if(j)try{throw new Error("Tried to call onClick, but StripeCheckout failed to load")}catch{}else n.stripeHandler?t.showStripeDialog():(t.showLoadingDialog(),t.hasPendingClick=!0)},t.handleOnMouseDown=function(){t.setState({buttonActive:!0})},t.handleOnMouseUp=function(){t.setState({buttonActive:!1})},t.state={open:!1,buttonActive:!1},t}return V(n,[{key:"componentDidMount",value:function(){var t=this;if(this._isMounted=!0,!S&&!h){h=!0;var i=document.createElement("script");typeof this.props.onScriptTagCreated=="function"&&this.props.onScriptTagCreated(i),i.src="https://checkout.stripe.com/checkout.js",i.async=1,this.loadPromise=function(){var o=!1,l=new Promise(function(d,c){i.onload=function(){S=!0,h=!1,d(),t.onScriptLoaded()},i.onerror=function(p){j=!0,h=!1,c(p),t.onScriptError(p)}}),m=new Promise(function(d,c){l.then(function(){return o?c({isCanceled:!0}):d()}),l.catch(function(p){return c(o?{isCanceled:!0}:p)})});return{promise:m,cancel:function(){o=!0}}}(),this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError),document.body.appendChild(i)}}},{key:"componentDidUpdate",value:function(){h||this.updateStripeHandler()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.loadPromise&&this.loadPromise.cancel(),n.stripeHandler&&this.state.open&&n.stripeHandler.close()}},{key:"updateStripeHandler",value:function(){(!n.stripeHandler||this.props.reconfigureOnUpdate)&&(n.stripeHandler=StripeCheckout.configure({key:this.props.stripeKey}))}},{key:"showLoadingDialog",value:function(){if(this.props.showLoadingDialog){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];this.props.showLoadingDialog.apply(this,i)}}},{key:"hideLoadingDialog",value:function(){if(this.props.hideLoadingDialog){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];this.props.hideLoadingDialog.apply(this,i)}}},{key:"showStripeDialog",value:function(){this.hideLoadingDialog(),n.stripeHandler.open(this.getConfig())}},{key:"renderDefaultStripeButton",value:function(){return u.default.createElement("button",f({},b({},this.props.triggerEvent,this.onClick),{className:this.props.className,onMouseDown:this.handleOnMouseDown,onFocus:this.handleOnMouseDown,onMouseUp:this.handleOnMouseUp,onMouseOut:this.handleOnMouseUp,onBlur:this.handleOnMouseUp,style:f({},{overflow:"hidden",display:"inline-block",background:"linear-gradient(#28a0e5,#015e94)",border:0,padding:1,textDecoration:"none",borderRadius:5,boxShadow:"0 1px 0 rgba(0,0,0,0.2)",cursor:"pointer",visibility:"visible",userSelect:"none"},this.state.buttonActive&&{background:"#005d93"},this.props.style)}),u.default.createElement("span",{style:f({},{backgroundImage:"linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",color:"#fff",fontWeight:"bold",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",textShadow:"0 -1px 0 rgba(0,0,0,0.25)",borderRadius:4},this.state.buttonActive&&{color:"#eee",boxShadow:"inset 0 1px 0 rgba(0,0,0,0.1)",backgroundImage:"linear-gradient(#008cdd,#008cdd 85%,#239adf)"},this.props.textStyle)},this.props.label))}},{key:"renderDisabledButton",value:function(){return u.default.createElement("button",{disabled:!0,style:{background:"rgba(0,0,0,0.2)",overflow:"hidden",display:"inline-block",border:0,padding:1,textDecoration:"none",borderRadius:5,userSelect:"none"}},u.default.createElement("span",{style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",borderRadius:4,color:"#999",background:"#f8f9fa",textShadow:"0 1px 0 rgba(255,255,255,0.5)"}},this.props.label))}},{key:"render",value:function(){this.props.desktopShowModal===!0&&!this.state.open?this.onClick():this.props.desktopShowModal===!1&&this.state.open&&n.stripeHandler.close();var t=this.props.ComponentClass;return this.props.children?u.default.createElement(t,f({},b({},this.props.triggerEvent,this.onClick),{children:this.props.children})):this.props.disabled?this.renderDisabledButton():this.renderDefaultStripeButton()}}]),n}(u.default.Component);x.defaultProps={className:"StripeCheckout",label:"Pay With Card",locale:"auto",ComponentClass:"span",reconfigureOnUpdate:!1,triggerEvent:"onClick"};x.propTypes={desktopShowModal:s.default.bool,triggerEvent:s.default.oneOf(["onClick","onTouchTap","onTouchStart"]),label:s.default.string,style:s.default.object,textStyle:s.default.object,disabled:s.default.bool,ComponentClass:s.default.string,showLoadingDialog:s.default.func,hideLoadingDialog:s.default.func,onScriptError:s.default.func,onScriptTagCreated:s.default.func,reconfigureOnUpdate:s.default.bool,stripeKey:s.default.string.isRequired,token:s.default.func.isRequired,name:s.default.string,description:s.default.string,image:s.default.string,amount:s.default.number,locale:s.default.oneOf(["auto","zh","da","nl","en","fr","de","it","ja","no","es","sv"]),currency:s.default.oneOf(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BIF","BMD","BND","BOB","BRL","BSD","BWP","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ETB","EUR","FJD","FKP","GBP","GEL","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","ISK","JMD","JPY","KES","KGS","KHR","KMF","KRW","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","MAD","MDL","MGA","MKD","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SZL","THB","TJS","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW"]),panelLabel:s.default.string,zipCode:s.default.bool,billingAddress:s.default.bool,shippingAddress:s.default.bool,email:s.default.string,allowRememberMe:s.default.bool,bitcoin:s.default.bool,alipay:s.default.oneOf(["auto",!0,!1]),alipayReusable:s.default.bool,opened:s.default.func,closed:s.default.func};x._isMounted=!1;var ee=w.default=x;const ie=()=>{const[r,n]=g.useState(""),[a,t]=g.useState(!1),i=y(c=>c.counter.productData),o=y(c=>c.counter.userInfo),l=F();g.useEffect(()=>{let c=0;i.map(p=>(c+=p.price*p.quantity,c)),n(c.toFixed(2))},[i]);const m=()=>{o?t(!0):v.error("Please login to checkout!")},d=async c=>{await axios.post("http://localhost:3000/pay",{amount:r*100,token:c})};return e.jsxs("section",{children:[e.jsx(_,{heading:"#Cart",subHeading:"Daily Happy Shopping",bgImg:"cart-banner"}),(i==null?void 0:i.length)>0?e.jsxs("div",{className:"container flex flex-col gap-4 lg:flex-row py-10",children:[e.jsx("div",{className:"w-full lg:w-3/5",children:e.jsx(G,{})}),e.jsxs("div",{className:"w-full lg:w-2/5 py-6 px-4",children:[e.jsx("h2",{id:"summary-heading",className:" border-b border-gray-200 px-4 py-3 text-lg font-medium text-gray-900 md:text-2xl sm:p-4",children:" Price Details"}),e.jsxs("div",{children:[e.jsxs("dl",{className:" space-y-1 px-2 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("dt",{className:"text-base md:text-lg text-gray-800",children:["Price (",i.length," item)"]}),e.jsxs("dd",{className:"text-base md:text-lg font-medium text-gray-900",children:["$ ",r]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsx("dt",{className:"flex items-center text-base md:text-lg text-gray-800",children:e.jsx("span",{children:"Discount"})}),e.jsx("dd",{className:"text-base md:text-lg font-medium text-green-700",children:"- $ 0"})]}),e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsx("dt",{className:"flex text-base md:text-lg text-gray-800",children:e.jsx("span",{children:"Delivery Charges"})}),e.jsx("dd",{className:"text-base md:text-lg font-medium text-green-700",children:"Free"})]}),e.jsxs("div",{className:"flex items-center justify-between border-y border-dashed py-4 ",children:[e.jsx("dt",{className:"text-base md:text-lg font-medium text-gray-900",children:"Total Amount"}),e.jsxs("dd",{className:"text-base md:text-lg font-medium text-gray-900",children:["$ ",r]})]})]}),e.jsx("button",{onClick:m,className:"text-white bg-black block w-full h-12 text-base md:text-lg font-medium rounded-sm mt-5 hover:opacity-90",children:"Proceed to Checkout"}),e.jsx("p",{className:"px-2 pb-4 font-medium text-green-700 mt-4",children:"You can save on this order using Redeem Codes"})]}),a&&e.jsx("div",{className:"text-center",children:e.jsx(ee,{name:"Amazon Pro",label:"Pay to Amazon Pro",description:`Your payment amount is ${r}`,amount:`${r*100}`,currency:"USD",stripeKey:"pk_test_51O7uqSGK1VxuPahpbuSuWbp5hsQq0vwCerCTplRuL0nrteegpvQDclrOofCSFNfB4G2ns9nhmr2lY7syeOtk1HVd00DickofQF",email:`${o.email}`,token:d,reconfigureOnUpdate:!1})})]})]}):e.jsxs("div",{className:"container flex flex-col justify-center items-center text-center py-10",children:[e.jsx("h2",{className:"text-lg md:text-xl text-orange-600 font-medium",children:"Your cart is empty. Please go to back to Shopping and add  products to cart."}),e.jsxs("button",{className:"mt-8 ml-7 flex items-center gap-1 text-gray-400 hover:text-black hover:underline underline-offset-2 decoration-gray-400 duration-300",onClick:()=>l("/"),children:[e.jsx("span",{children:e.jsx(N,{})}),"Go to Shopping"]})]}),e.jsx(K,{}),e.jsx(D,{position:"top-left",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})};export{ie as default};
